<!DOCTYPE html>
<html lang="en">

<head>
  <!-- ## for client-side less
  <link rel="stylesheet/less" type="text/css" href="/theme/css/style.less">
  <script src="http://cdnjs.cloudflare.com/ajax/libs/less.js/1.7.3/less.min.js" type="text/javascript"></script>
  -->
  <link rel="stylesheet" type="text/css" href="/theme/css/style.css">
  <link rel="stylesheet" type="text/css" href="/theme/css/pygments.css">
  <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=PT+Sans|PT+Serif|PT+Mono">

  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="author" content="Daniel Oberbauer">
  <meta name="description" content="Posts and writings by Daniel Oberbauer">


<meta name="keywords" content="">

  <title>
    Daniel Oberbauer
&ndash; Désordre bronzé et noir  </title>

</head>

<body>
  <aside>
    <div id="user_meta">
      <a href="">
        <img src="/theme/images/logo.png" alt="logo">
      </a>
      <h2><a href="">Daniel Oberbauer</a></h2>
      <p></p>
      <ul>
        <li><a href="/category/art.html">Art</a></li>
        <li><a href="/category/exploration.html">Exploration</a></li>
        <li><a href="/category/project.html">Project</a></li>
        <li><a href="/category/resources.html">Resources</a></li>
        <li><a href="https://getpelican.com/" target="_blank">Pelican</a></li>
        <li><a href="https://www.python.org/" target="_blank">Python.org</a></li>
        <li><a href="https://palletsprojects.com/p/jinja/" target="_blank">Jinja2</a></li>
        <li><a href="#" target="_blank">You can modify those links in your config file</a></li>
        <li><a href="#" target="_blank">You can add links in your config file</a></li>
        <li><a href="#" target="_blank">Another social link</a></li>
      </ul>
    </div>
  </aside>

  <main>
    <header>
      <p>
      <a href="">Index</a> &brvbar; <a href="/archives.html">Archives</a>
      </p>
    </header>

<article>
  <div class="article_title">
    <h1><a href="/desordre-bronze-et-noir.html">Désordre bronzé et noir</a></h1>
  </div>
  <div class="article_meta">
    <p>Posted on: Mon 01 January 2024</p>
  </div>
  <div class="article_text">
    <p>For <a href="https://genuary.art/prompts#jan5">Genuary 5</a> the prompt is <em>"In the style of Vera Molnár (1924-2023)."</em></p>
<p><a href="https://en.wikipedia.org/wiki/Vera_Moln%C3%A1r">Vera Molnár</a> was a pioneer of computer generated artwork. I decided to make my #genuary5 submission as a recreation of <a href="https://backend.artreview.com/wp-content/uploads/2022/06/1-per-Disorder-%E2%80%93-Blue-and-Red-1230x1135.jpg">1% de Desordre – Bleu + Rouge (1979)</a>, with an altered color scheme. As it turns out, what I made was actually closer to <a href="https://www.sothebys.com/en/buy/auction/2022/natively-digital-1-3-generative-art/1-de-desordre-1-of-disorder">1% de désordre (1976)</a>. In keeping with the style of the original, my final image is a quadriptych. I also made it into an animated gif, looping over 10 variations. I'm calling it "Désordre bronzé et noir" or "tan and black mess".</p>
<p><img alt="Hyperific's blog" src="https://bear-images.sfo2.cdn.digitaloceanspaces.com/hyperific-1706210382-0.png"></p>
<p><img alt="Hyperific's blog" src="https://bear-images.sfo2.cdn.digitaloceanspaces.com/hyperific-1706210382-1.gif"></p>
<p>Here's how it works.</p>
<ul>
<li>First set the value for the height and width of the image (it's always 1:1).</li>
<li>Next set the number of columns and rows you want. Yes it's hard coded, get over it. </li>
<li>Set the background and line colors. Here I use tan for the background and a dark gray color for the lines.</li>
<li><code>sqsz</code> is the square size, which is the size in pixels of each grid cell. I probably should have named it <code>cellsz</code>...</li>
<li><code>spacing</code> is the square root of the square size. When the squares are drawn there will be this much spacing between the square and the edge of the cell. <code>2 * spacing</code> is technically the true spacing. </li>
<li><code>inners</code> is the number of possible internal squares given <code>sqsz</code> and <code>spacing</code>. </li>
<li><code>cellstarts</code> is the starting (upper left) X and Y coordinates for each square.</li>
<li><code>cellends</code> is the ending (lower right) X and Y coords</li>
</ul>
<p>The outermost loop runs 10 times, generating 10 image variations. You can set it to whatever you want. I wanted ten for my animated gif.
In the inner loop the PIL <code>Image</code> and <code>ImageDraw</code> objects are initialized and variations are calculated. I set things up to avoid a bunch of nested <code>if</code> statements. Not that performance was a critical factor for me, I just wanted to challenge myself to make this with as few <code>if</code> statements as possible. </p>
<ul>
<li><code>widths</code> is an array of line widths that's iterated through as each column and row is built out. All widths start out as <code>int(spacing/2)</code> but 3 width values are randomly chosen to be thinner or thicker.</li>
<li><code>mult</code> is another array that's iterated through. When the outer box is drawn its width is multiplied by <code>mult</code>. The randomly chosen boxes whose widths are different will have their outer width set to zero, effectively erasing them. </li>
<li><code>submult</code> is similar to <code>mult</code> except it only affects the inner squares, and only the cell with the thinnest lines.</li>
</ul>
<p>Once all these parameters are set the row and column loops begin and the boxes are drawn. 
The last step just adds a bit of trim all the way around by pasting the image onto one that's slightly bigger.</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span><span class="p">,</span> <span class="n">ImageDraw</span>

<span class="n">dim</span> <span class="o">=</span> <span class="mi">2000</span> <span class="c1"># Height and width of the image</span>
<span class="n">ncell</span> <span class="o">=</span> <span class="mi">10</span> <span class="c1"># Number of grid columns and rows</span>

<span class="n">bkg</span> <span class="o">=</span> <span class="p">(</span><span class="mi">210</span><span class="p">,</span><span class="mi">208</span><span class="p">,</span><span class="mi">193</span><span class="p">)</span> <span class="c1">#Background color</span>
<span class="n">line</span> <span class="o">=</span> <span class="p">(</span><span class="mi">74</span><span class="p">,</span><span class="mi">72</span><span class="p">,</span><span class="mi">64</span><span class="p">)</span> <span class="c1"># Line color</span>

<span class="n">sqsz</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">dim</span><span class="o">/</span><span class="n">ncell</span><span class="p">)</span> <span class="c1"># Size in pixels of each grid cell</span>
<span class="n">spacing</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">sqsz</span><span class="p">))</span>
<span class="n">inners</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">sqsz</span> <span class="o">/</span> <span class="n">spacing</span> <span class="o">/</span> <span class="mi">4</span><span class="p">)</span>
<span class="n">cellstarts</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="o">+</span><span class="n">spacing</span><span class="p">,</span><span class="n">dim</span><span class="o">+</span><span class="n">spacing</span><span class="p">,</span><span class="n">sqsz</span><span class="p">)</span>
<span class="n">cellends</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">sqsz</span><span class="o">-</span><span class="n">spacing</span><span class="p">,</span><span class="n">dim</span><span class="o">+</span><span class="n">sqsz</span><span class="o">-</span><span class="n">spacing</span><span class="p">,</span><span class="n">sqsz</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
    <span class="n">image</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s1">&#39;RGB&#39;</span><span class="p">,</span> <span class="p">(</span><span class="n">dim</span><span class="p">,</span><span class="n">dim</span><span class="p">),</span><span class="n">color</span><span class="o">=</span><span class="n">bkg</span><span class="p">)</span> <span class="c1">#Image init</span>
    <span class="n">draw</span> <span class="o">=</span> <span class="n">ImageDraw</span><span class="o">.</span><span class="n">Draw</span><span class="p">(</span><span class="n">image</span><span class="p">)</span> <span class="c1"># Init ImageDraw</span>

    <span class="n">widths</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="n">ncell</span><span class="p">,</span><span class="n">ncell</span><span class="p">),</span><span class="n">dtype</span><span class="o">=</span><span class="nb">int</span><span class="p">)</span> <span class="o">*</span> <span class="nb">int</span><span class="p">(</span><span class="n">spacing</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span> 
    <span class="n">spx</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">ncell</span><span class="p">),</span><span class="mi">3</span><span class="p">,</span><span class="n">replace</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">spy</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">ncell</span><span class="p">),</span><span class="mi">3</span><span class="p">,</span><span class="n">replace</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

    <span class="n">widths</span><span class="p">[</span><span class="n">spx</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">spy</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">spacing</span><span class="o">/</span><span class="mi">4</span><span class="p">)</span>
    <span class="n">widths</span><span class="p">[</span><span class="n">spx</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">spy</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">spacing</span><span class="o">/</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">widths</span><span class="p">[</span><span class="n">spx</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="n">spy</span><span class="p">[</span><span class="mi">2</span><span class="p">]]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">spacing</span><span class="p">)</span>

    <span class="n">mult</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="n">ncell</span><span class="p">,</span><span class="n">ncell</span><span class="p">),</span><span class="n">dtype</span><span class="o">=</span><span class="nb">int</span><span class="p">)</span> <span class="c1">#Multiplies the special cells widths by 0</span>
    <span class="n">mult</span><span class="p">[</span><span class="n">spx</span><span class="p">,</span><span class="n">spy</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="n">submult</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="n">ncell</span><span class="p">,</span><span class="n">ncell</span><span class="p">),</span><span class="n">dtype</span><span class="o">=</span><span class="nb">int</span><span class="p">)</span>
    <span class="n">submult</span><span class="p">[</span><span class="n">spx</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">spy</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span> <span class="o">=</span> <span class="mi">2</span>

    <span class="k">for</span> <span class="n">rw</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">cellstarts</span><span class="p">)):</span>
        <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">cellstarts</span><span class="p">)):</span>
            <span class="n">width</span> <span class="o">=</span> <span class="n">widths</span><span class="p">[</span><span class="n">rw</span><span class="p">,</span><span class="n">col</span><span class="p">]</span>
            <span class="n">m</span> <span class="o">=</span> <span class="n">mult</span><span class="p">[</span><span class="n">rw</span><span class="p">,</span><span class="n">col</span><span class="p">]</span>
            <span class="n">draw</span><span class="o">.</span><span class="n">rounded_rectangle</span><span class="p">([</span><span class="n">cellstarts</span><span class="p">[</span><span class="n">col</span><span class="p">],</span><span class="n">cellstarts</span><span class="p">[</span><span class="n">rw</span><span class="p">],</span>
                            <span class="n">cellends</span><span class="p">[</span><span class="n">col</span><span class="p">],</span><span class="n">cellends</span><span class="p">[</span><span class="n">rw</span><span class="p">]],</span>
                           <span class="n">fill</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="n">outline</span><span class="o">=</span><span class="n">line</span><span class="p">,</span><span class="n">width</span><span class="o">=</span><span class="n">width</span><span class="o">*</span><span class="n">m</span><span class="p">,</span><span class="n">radius</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">inner</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">submult</span><span class="p">[</span><span class="n">rw</span><span class="p">,</span><span class="n">col</span><span class="p">],</span><span class="n">inners</span><span class="p">):</span>
                <span class="n">subsp</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">spacing</span><span class="o">*</span><span class="mi">2</span><span class="o">*</span><span class="n">inner</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
                <span class="n">draw</span><span class="o">.</span><span class="n">rounded_rectangle</span><span class="p">([</span><span class="n">cellstarts</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">+</span><span class="n">subsp</span><span class="p">,</span><span class="n">cellstarts</span><span class="p">[</span><span class="n">rw</span><span class="p">]</span><span class="o">+</span><span class="n">subsp</span><span class="p">,</span>
                               <span class="n">cellends</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">-</span><span class="n">subsp</span><span class="p">,</span><span class="n">cellends</span><span class="p">[</span><span class="n">rw</span><span class="p">]</span><span class="o">-</span><span class="n">subsp</span><span class="p">],</span>
                               <span class="n">fill</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="n">outline</span><span class="o">=</span><span class="n">line</span><span class="p">,</span><span class="n">width</span><span class="o">=</span><span class="n">width</span><span class="p">,</span><span class="n">radius</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>
    <span class="n">bigger_image</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s1">&#39;RGB&#39;</span><span class="p">,(</span><span class="n">dim</span><span class="o">+</span><span class="n">sqsz</span><span class="p">,</span><span class="n">dim</span><span class="o">+</span><span class="n">sqsz</span><span class="p">),</span><span class="n">color</span><span class="o">=</span><span class="n">bkg</span><span class="p">)</span>
    <span class="n">bigger_image</span><span class="o">.</span><span class="n">paste</span><span class="p">(</span><span class="n">image</span><span class="p">,(</span><span class="nb">int</span><span class="p">(</span><span class="n">sqsz</span><span class="o">/</span><span class="mi">2</span><span class="p">),</span><span class="nb">int</span><span class="p">(</span><span class="n">sqsz</span><span class="o">/</span><span class="mi">2</span><span class="p">)))</span>
    <span class="n">bigger_image</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">.jpg&quot;</span><span class="p">)</span>
</code></pre></div>
  </div>
  <div class="article_meta">
    <p>Category: <a href="/category/art.html">Art</a>
    </p>
  </div>


</article>


    <div id="ending_message">
      <p>&copy; Daniel Oberbauer. Built using <a href="http://getpelican.com" target="_blank">Pelican</a>. Theme by Giulio Fidente on <a href="https://github.com/gfidente/pelican-svbhack" target="_blank">github</a>. </p>
    </div>
  </main>
</body>
</html>